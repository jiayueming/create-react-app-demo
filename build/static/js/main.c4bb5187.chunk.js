(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(81)},70:function(e,t,a){},71:function(e,t,a){},77:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAaCAYAAADbhS54AAABFUlEQVR42u3VMUtCURTA8QqCpqYgAqG+ge8bRFCjiyE0Cw45iIsNbiGiQ7aGk0sOEn0B3QRpeXM4WUNLmyQNSXX6P+gul3dxet4zvOE33Tv8h3PP3QjDMGlHeMIMFftcRGKtI2wIgfGMCw1h95AYE5z5DNvFI8Shj30fYUYGd/iAWBZoYMcOO0EB58gnIIcsjjHADyTGG6om7BqyRkv8rrjTicJEoc8orKswrG5mLIeiEqdmxjxxL9g0LA1Lw5BBgKwCBybsEt8QJb5Q0PolzaKwB21h5hPfwg2WEIcxSiijiVYC2v/K9qs8RM8R9oqa73URYARxuMWmzz1WxItrBnwv2G1cYW6FTbRs/j108I4pgqTD/gAmDcWSohwzfAAAAABJRU5ErkJggg=="},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(22),r=a.n(s),l=a(15),i=a(37),o=a(12),u=a(28),m=a.n(u),p=a(39),d=a(24),h=a(16),y=a.n(h);function E(e){return 200===e.status||304===e.status?e.data:{code:-404,message:e.statusText,data:e.statusText}}function f(e){return 200!==e.code&&e.message,e}y.a.defaults.baseURL="https://trade.cryptool.net:8088/",y.a.defaults.headers.common.time=(new Date).getTime(),y.a.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),y.a.interceptors.response.use(function(e){return e},function(e){return Promise.resolve(e.response)}),y.a.defaults.withCredentials=!1;var v={post:function(e,t,a){var n={};return n=a?{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},y()({method:"post",url:e,data:t,timeout:3e4,headers:n}).then(E).then(f)},get:function(e,t,a){var n={};return n=a?{"X-Requested-With":"XMLHttpRequest"}:{"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+sessionStorage.getItem("token")},y()({method:"get",url:e,params:t,timeout:3e4,headers:n}).then(E).then(f)}},g="ORDER_ID",b="REFRESH_PRICE",N="PROPERTY_LIST",j={orderId:"",isRefresh:!1,propertyList:[]};function O(e){return{type:g,payload:{orderId:e}}}function I(e){return{type:b,payload:{isRefresh:e}}}var w,k=Object(l.c)({exchange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(d.a)({},e,{orderId:t.payload.orderId});case b:return Object(d.a)({},e,{isRefresh:t.payload.isRefresh});case N:return console.log(t.payload),Object(d.a)({},e,{propertyList:t.payload.propertyList});default:return e}}}),A=(a(70),a(17)),x=a(18),C=a(19),M=a(5),T=a(6),S=a(8),R=a(7),P=a(14),L=a(9),D=(a(71),Object(o.b)(function(e){return e.exchange},{createOrder:function(e){var t=this;return function(){var a=Object(p.a)(m.a.mark(function a(n){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:v.post("exchange-trade-server/order/createOrder",e).then(function(e){200===e.code?(n(O(e.data.data)),t.props.history.push("/pay")):-1===e.code?n(O("270")):-8===e.code?n(I(!0)):-10===e.code&&console.log("\u53bb\u767b\u9646",e.code)});case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(w=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(S.a)(this,Object(R.a)(t).call(this,e))).state={dealMoney:"",dealAmount:"",noNeed:!0,coinName:"",coinId:"",coinList:[],currentIndex:0,currentWay:0,dealPrice:"",payWays:[{name:"\u652f\u4ed8\u5b9d"},{name:"\u5fae\u4fe1"},{name:"\u94f6\u884c\u5361"}],limit:""},a.submit=a.submit.bind(Object(P.a)(a)),a.handleChange=a.handleChange.bind(Object(P.a)(a)),a}return Object(L.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.setItem("token","eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NTkxMDA3MjUsInVzZXJfbmFtZSI6IjE1NjE3OTA3MzQwIiwianRpIjoiZmE0ODQyMjEtZjVhMC00YmYxLTgzMTktNDQ3MmIwNDRmMGE5IiwiY2xpZW50X2lkIjoidXNlci1zZXJ2aWNlIiwic2NvcGUiOlsic2VydmljZSJdfQ.Di9CpPizcdKQCkMxe7NgwjXDpnbgsDoMkd3LuZDI_mAYFgCLSug6T5qkdHGlGZoIcTpH-wMx-mmYfIz8aCDIF4ubZghUtJ9cH-81V6Gde2z6S3-UXAA2NqpDpkHcUowW4pTJfcKrS70nRzTmFe3zeZfJeod0mgVjC0fCTuOf2B7m1ZFMRgO4HASV1E1uaMo4LwxE7TCHjlUZsV6cIAA0Flp7QIwxt1cHF_hQK1XMaa3uwDQs4Lt7U-YoKfjLt_VuHK7X-NQUxX0HLgFLxjhV2QEh7Vfym0vuFzE52s3kcUCuOUo0JswT44z6yS-m-P5dhXk_yWIXMSYr-vxZNfJ7Kg"),this.getCoinList(),console.log("re-denr"),this.props.isRefresh&&this.getPrice()}},{key:"onChange",value:function(e,t){this.setState(Object(C.a)({},e,t))}},{key:"switchItem",value:function(e,t){var a=this;this.setState({currentIndex:t,coinId:e.coinId,coinName:e.coinName,dealMoney:"",dealAmount:""}),setTimeout(function(){a.getPrice()},0)}},{key:"choose",value:function(e){this.setState({currentWay:e})}},{key:"getCoinList",value:function(){var e=this;v.get("bottom/coin/coinlist",{trade:!0},this.noNeed).then(function(t){200===t.code&&(e.setState({coinList:t.data,coinId:t.data[0].coinId,coinName:t.data[0].coinName}),e.getPrice())})}},{key:"getPrice",value:function(){var e=this;v.get("market/otcmarket/getnewprice",{coinId:this.state.coinId},this.noNeed).then(function(t){200===t.code&&e.setState({dealPrice:t.data.cnyPrice})})}},{key:"getLimit",value:function(){var e=this;v.get("bottom/config/getlimit",{},this.noNeed).then(function(t){200===t.code&&e.setState({limit:JSON.parse(t.data.value)})})}},{key:"handleChange",value:function(e){var t=this.state,a=t.dealAmount,n=t.dealMoney;"amount"===e.target.getAttribute("name")?n=(a=e.target.value)?(a*this.state.dealPrice).toFixed(2):"":a=(n=e.target.value)?(n/this.state.dealPrice).toFixed(6):"",this.setState({dealAmount:a,dealMoney:n})}},{key:"submit",value:function(){if(window.scroll(0,0),this.state.dealAmount<=0||this.state.dealMoney<=0)console.log("\u8bf7\u8f93\u5165\u8d2d\u4e70\u91d1\u989d");else if(this.state.dealMoney<1)console.log("\u8d2d\u4e70\u91d1\u989d\u4e0d\u5f97\u4f4e\u4e8e".concat(this.state.limit.min,"\u5143"));else if(this.state.dealMoney>this.state.limit.max)console.log("\u4eca\u65e5\u9650\u989d".concat(this.state.limit.max));else{var e=0===this.state.currentWay?"1":1===this.state.currentWay?"3":"2",t={dealAmount:this.state.dealAmount,dealPrice:this.state.dealPrice,dealVol:this.state.dealMoney,buyType:e,currencyType:this.state.coinName,coinId:this.state.coinId,unixTimestamps:(new Date).getTime()};this.props.createOrder(t)}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container"},this.props.orderId?c.a.createElement(x.a,{to:"/pay"}):null,c.a.createElement("header",null,this.state.coinList.map(function(t,a){return c.a.createElement("p",{key:a,onClick:function(){return e.switchItem(t,a)},className:a===e.state.currentIndex?"active":null},t.coinName)})),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"price"},c.a.createElement("p",null,"\u5355\u4ef7"),c.a.createElement("p",null,c.a.createElement("span",{className:"money"},this.state.dealPrice),c.a.createElement("span",{className:"unit"},"CNY"))),c.a.createElement("div",{className:"line"}),c.a.createElement("div",{className:"buy"},c.a.createElement("div",{className:"choose"},c.a.createElement("p",null,"\u8d2d\u4e70\u6570\u91cf"),c.a.createElement("p",{className:"input-box"},c.a.createElement("input",{type:"text",placeholder:"\u8d2d\u4e70\u6570\u91cf",value:this.state.dealAmount,onChange:this.handleChange,name:"amount"}),c.a.createElement("span",{className:"coin"},this.state.coinName))),c.a.createElement("div",{className:"transfer"},c.a.createElement("img",{src:a(77),alt:""})),c.a.createElement("div",{className:"choose"},c.a.createElement("p",null,"\u4ef7\u683c"),c.a.createElement("p",{className:"input-box"},c.a.createElement("input",{type:"text",placeholder:"\u8d2d\u4e70\u91d1\u989d",value:this.state.dealMoney,onChange:this.handleChange,name:"money"}),c.a.createElement("span",{className:"coin"},"CNY")))),c.a.createElement("div",{className:"payWays"},this.state.payWays.map(function(t,a){return c.a.createElement("p",{key:a,onClick:function(){return e.choose(a)},className:a===e.state.currentWay?"activePay":null},t.name)})),c.a.createElement("p",{className:"warn-text"},"\u6bcf\u65e5\u9650\u989d\uff1a \uffe51.00~\uffe52,000.00"),c.a.createElement("button",{className:"buyBtn",onClick:this.submit},"\u7acb\u5373\u8d2d\u4e70"),c.a.createElement("p",{className:"warn-text"},"\u4ea4\u6613\u624b\u7eed\u8d39\u5168\u514d")))}}]),t}(c.a.Component))||w);a(78);var W,V,U,Y,X,z,B=Object(o.b)(function(e){return e.exchange})((V=W=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(S.a)(this,Object(R.a)(t).call(this,e))).state={showBank:"none",showWx:"none",showAli:"none"},a}return Object(L.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.orderId&&this.getPrice()}},{key:"getPrice",value:function(){var e=this;v.get("exchange-trade-server/order/info",{Id:this.props.orderId}).then(function(t){200===t.code&&(e.setState({buyType:t.data.buyType,OrderId:t.data.orderId,currencyType:t.data.currencyType,payeer:t.data.payeer,payeerAccount:t.data.payeerAccount,dealPrice:t.data.dealPrice,dealAmount:t.data.dealAmount,dealVol:t.data.dealVol,bankName:t.data.bankName}),"1"===e.state.buyType?e.setState({showAli:!0}):"2"===e.state.buyType?e.setState({showBank:!0}):e.setState({showWx:!0}),e.setState({expireTime:300}),e.props.countdown(300),-2===t.data.expireTime||(e.setState({expireTime:t.data.expireTime,M:"00",S:"00"}),e.props.countdown(300)))})}},{key:"render",value:function(){return c.a.createElement("div",{className:"pay-container"},c.a.createElement("p",{className:"title"},"\u8bf7\u4ed8\u6b3e"),c.a.createElement("p",{className:"pay-warn"},"\u8bf7\u5728",this.props.state.M+":"+this.props.state.S,"\u5185\u7528\u672c\u4eba\u652f\u4ed8\u5b9d\u8d26\u53f7\u4ed8\u6b3e\u7ed9\u5546\u5bb6"),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"top"},c.a.createElement("div",{className:"top-left"},c.a.createElement("p",null,"\u8bf7\u5411\u4ee5\u4e0b\u8d26\u6237\u4ed8\u6b3e"),c.a.createElement("p",null,c.a.createElement("span",{className:"num-font"},this.state.dealVol),c.a.createElement("span",{className:"unit"},"CNY"))),c.a.createElement("div",{className:"top-right"},c.a.createElement("p",null,c.a.createElement("span",{className:"mr15"},"\u4ea4\u6613\u5355\u4ef7"),c.a.createElement("span",null,this.state.dealPrice,"CNY/",this.state.currencyType)),c.a.createElement("p",null,c.a.createElement("span",{className:"mr15"},"\u4ea4\u6613\u6570\u91cf"),c.a.createElement("span",null,this.state.dealAmount,this.state.currencyType)))),c.a.createElement("div",{className:"bottom"},c.a.createElement("p",null,c.a.createElement("span",null,"\u5355\u53f7"),c.a.createElement("span",null,this.state.orderId)),c.a.createElement("p",{className:"mb40"},c.a.createElement("span",null,"\u8d2d\u4e70\u5e01\u79cd"),c.a.createElement("span",null,this.state.currencyType)),c.a.createElement("p",null,c.a.createElement("span",null,"\u6536\u6b3e\u4eba"),c.a.createElement("span",null,this.state.payeer)),c.a.createElement("div",{style:{display:this.state.showAli}},c.a.createElement("p",null,c.a.createElement("span",null,"\u652f\u4ed8\u5b9d\u8d26\u53f7"),c.a.createElement("span",null,this.state.payeerAccount)),c.a.createElement("p",null,c.a.createElement("span",null,"\u6536\u6b3e\u4e8c\u7ef4\u7801"),c.a.createElement("span",{className:"code"}))),c.a.createElement("div",{style:{display:this.state.showBank}},c.a.createElement("p",null,c.a.createElement("span",null,"\u94f6\u884c\u5361\u4fe1\u606f"),c.a.createElement("span",null,this.state.bankName)),c.a.createElement("p",null,c.a.createElement("span",null,"\u94f6\u884c\u5361\u5361\u53f7"),c.a.createElement("span",null,this.state.payeerAccount))),c.a.createElement("div",{style:{display:this.state.showWx}},c.a.createElement("p",null,c.a.createElement("span",null,"\u5fae\u4fe1\u8d26\u53f7"),c.a.createElement("span",null,this.state.payeerAccount)),c.a.createElement("p",null,c.a.createElement("span",null,"\u6536\u6b3e\u4e8c\u7ef4\u7801"),c.a.createElement("span",{className:"code"})))),c.a.createElement("div",{className:"btn-box"},c.a.createElement("button",null,"\u53d6\u6d88\u8ba2\u5355"),c.a.createElement("button",null,"\u5b8c\u6210\u4ed8\u6b3e"))))}}]),t}(c.a.Component),W=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(S.a)(this,Object(R.a)(t).call(this,e))).state={M:"",S:""},a.countdown=a.countdown.bind(Object(P.a)(a)),a.calcuTime=a.calcuTime.bind(Object(P.a)(a)),a}return Object(L.a)(t,e),Object(T.a)(t,[{key:"handleChange",value:function(e,t){this.setState(Object(C.a)({},e,t))}},{key:"calcuTime",value:function(e){var t=parseInt(e/3600).toString(),a=(parseInt(e/60)%60).toString(),n=parseInt(e%60).toString();this.H=t,this.setState({M:a.length<2?"0"+a:a,S:n.length<2?"0"+n:n})}},{key:"countdown",value:function(e){var t=this;this.calcuTime(e);var a=setInterval(function(){e<=0?clearInterval(a):(e--,t.calcuTime(e))},1e3);e<=0&&clearInterval(a)}},{key:"render",value:function(){return c.a.createElement(V,Object.assign({countdown:this.countdown,state:this.state},this.props))}}]),t}(c.a.Component)||W))||W,q=Object(x.f)(U=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(S.a)(this,Object(R.a)(t).call(this,e))).state={list:[]},a}return Object(L.a)(t,e),Object(T.a)(t,[{key:"msg",value:function(){this.props.getMsg("\u6211\u662f\u5609\u60a6\u540d\u3002\u3002\u3002\u3002\u3002")}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"child-container"},c.a.createElement("h1",null,"\u8fd9\u662f\u5b50\u7ec4\u4ef6",this.props.title),c.a.createElement("button",{onClick:function(){return e.props.getMsg("jiayueming\u7684component")}},"\u70b9\u51fb\u7ed9\u7236\u7ec4\u4ef6\u4f20\u503c"))}}]),t}(c.a.PureComponent))||U,J=(a(79),Y=Object(o.b)(function(e){return e.exchange},{saveList:function(e){return function(t){t(function(e){return{type:N,payload:{propertyList:e}}}(e)),t(I(!0))}}}),Object(x.f)(X=Y(X=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(S.a)(this,Object(R.a)(t).call(this,e))).state={account:!1,totalValue:"",valueUnit:"",info:"",list:[]},a.go=a.go.bind(Object(P.a)(a)),a}return Object(L.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"go",value:function(){this.props.history.push("/propertyDetail")}},{key:"getMsg",value:function(e){console.log("msg",e)}},{key:"getData",value:function(){var e=this;v.get("capital/capitalaccount/balance").then(function(t){200===t.code&&(t.data.totalValue?e.setState({totalValue:t.data.totalValue}):e.setState({totalValue:"0.00"}),e.setState({valueUnit:t.data.valueUnit,list:t.data.list}),e.props.saveList(t.data.list))})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"property-container"},c.a.createElement("div",{className:"property"},c.a.createElement("p",{className:"font-gray"},"\u603b\u8d44\u4ea7\u6298\u5408(CNY)"),c.a.createElement("p",{className:"totalProperty"},this.state.totalValue),this.state.list.map(function(e,t){return c.a.createElement("p",{key:t},c.a.createElement("span",{className:"coinName"},e.coinName),c.a.createElement("span",{className:"font-gray"},e.amount,"\u2248",e.value,"CNY"))}),c.a.createElement("p",{className:"check",onClick:this.go},"\u67e5\u770b\u8d44\u4ea7")),c.a.createElement(q,{title:"\u9759\u9759\u5730\u770b",getMsg:function(t){e.getMsg(t)}}))}}]),t}(c.a.PureComponent))||X)||X),G=(a(80),Object(o.b)(function(e){return e.exchange})(z=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(S.a)(this,Object(R.a)(t).call(this,e))).state={account:!1,totalValue:"",valueUnit:"",info:"",list:[]},a}return Object(L.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return console.log("===\u9875\u9762redener\u4e86",this.props.propertyList),c.a.createElement("div",{className:"property-container"},c.a.createElement("p",null,"\u67e5\u770b\u8d44\u4ea7\u8be6\u60c5\u9875\u9762"),this.props.propertyList.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("p",{className:"name"},"\u5e01\u79cd\u540d\u79f0\uff1a",e.coinName),c.a.createElement("p",{className:"amount"},"\u6570\u91cf",e.amount),c.a.createElement("p",null,"\u4ef7\u503c\uff1a",e.value),c.a.createElement("p",null,c.a.createElement("span",null,"\u53ef\u7528\uff1a",e.freeAmount),c.a.createElement("span",null,"\u51bb\u7ed3: ",e.freezedAmount)))}))}}]),t}(c.a.PureComponent))||z);var H=function(){return c.a.createElement(A.a,null,c.a.createElement(x.d,null,c.a.createElement(x.b,{path:"/",exact:!0,component:D}),c.a.createElement(x.b,{path:"/pay",component:B}),c.a.createElement(x.b,{path:"/property",component:J}),c.a.createElement(x.b,{path:"/propertyDetail",component:G})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=Object(l.e)(k,Object(l.d)(Object(l.a)(i.a),window.devToolsExtension?window.devToolsExtension():function(e){return e}));r.a.render(c.a.createElement(o.a,{store:Q},c.a.createElement(A.a,null,c.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.c4bb5187.chunk.js.map