{"ast":null,"code":"import _objectSpread from \"/Users/nuoee/Desktop/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nimport http from '../utils/http';\nconst ORDER_ID = 'ORDER_ID';\nconst initState = {\n  orderId: ''\n};\nexport function exchange(state = initState, action) {\n  switch (action.type) {\n    case ORDER_ID:\n      console.log(action.payload);\n      return _objectSpread({}, state, {\n        orderId: action.payload.orderId\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction saveOrderId(orderId) {\n  return {\n    type: ORDER_ID,\n    payload: {\n      orderId\n    }\n  };\n}\n\nexport function createOrder(data) {\n  return async dispatch => {\n    http.post('exchange-trade-server/order/createOrder', data).then(res => {\n      if (res.code === 200) {\n        dispatch(saveOrderId(res.data.data));\n        this.props.history.push('/pay');\n      } else if (res.code === -1) {\n        dispatch(saveOrderId('270'));\n      } else if (res.code === -8) {} else if (res.code === -10) {\n        console.log('去登陆', res.code);\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/nuoee/Desktop/react-demo/src/redux/exchange.redux.js"],"names":["axios","http","ORDER_ID","initState","orderId","exchange","state","action","type","console","log","payload","saveOrderId","createOrder","data","dispatch","post","then","res","code","props","history","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,OAAO,EAAE;AADO,CAAlB;AAIA,OAAO,SAASC,QAAT,CAAkBC,KAAK,GAACH,SAAxB,EAAmCI,MAAnC,EAA0C;AAChD,UAAOA,MAAM,CAACC,IAAd;AACC,SAAKN,QAAL;AACCO,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,OAAnB;AACA,+BAAWL,KAAX;AAAiBF,QAAAA,OAAO,EAACG,MAAM,CAACI,OAAP,CAAeP;AAAxC;;AACD;AACC,aAAOE,KAAP;AALF;AAOA;;AACD,SAASM,WAAT,CAAqBR,OAArB,EAA6B;AAC5B,SAAO;AAACI,IAAAA,IAAI,EAAEN,QAAP;AAAiBS,IAAAA,OAAO,EAAC;AAACP,MAAAA;AAAD;AAAzB,GAAP;AACA;;AACD,OAAO,SAASS,WAAT,CAAqBC,IAArB,EAA0B;AAChC,SAAO,MAAMC,QAAN,IAAgB;AAChBd,IAAAA,IAAI,CAACe,IAAL,CAAU,yCAAV,EAAqDF,IAArD,EAA2DG,IAA3D,CAAgEC,GAAG,IAAI;AACrE,UAAIA,GAAG,CAACC,IAAJ,KAAa,GAAjB,EAAsB;AAC1BJ,QAAAA,QAAQ,CAACH,WAAW,CAACM,GAAG,CAACJ,IAAJ,CAASA,IAAV,CAAZ,CAAR;AACA,aAAKM,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACA,OAHI,MAGE,IAAIJ,GAAG,CAACC,IAAJ,KAAa,CAAC,CAAlB,EAAqB;AAC3BJ,QAAAA,QAAQ,CAACH,WAAW,CAAC,KAAD,CAAZ,CAAR;AACA,OAFM,MAEA,IAAIM,GAAG,CAACC,IAAJ,KAAa,CAAC,CAAlB,EAAqB,CACtB,CADC,MACK,IAAID,GAAG,CAACC,IAAJ,KAAa,CAAC,EAAlB,EAAsB;AAC3BV,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBQ,GAAG,CAACC,IAAvB;AACD;AACF,KAVD;AAWN,GAZD;AAaA","sourcesContent":["import axios from 'axios'\nimport http from '../utils/http'\nconst ORDER_ID = 'ORDER_ID'\nconst initState = {\n  orderId: ''\n}\n\nexport function exchange(state=initState, action){\n\tswitch(action.type){\n\t\tcase ORDER_ID:\n\t\t\tconsole.log(action.payload)\n\t\t\treturn {...state,orderId:action.payload.orderId}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\nfunction saveOrderId(orderId){\n\treturn {type: ORDER_ID, payload:{orderId}}\n}\nexport function createOrder(data){\n\treturn async dispatch=>{\n        http.post('exchange-trade-server/order/createOrder', data).then(res => {\n          if (res.code === 200) {\n\t\t\t\t\t\tdispatch(saveOrderId(res.data.data))\n\t\t\t\t\t\tthis.props.history.push('/pay')\n\t\t\t\t\t} else if (res.code === -1) {\n\t\t\t\t\t\tdispatch(saveOrderId('270'))\n\t\t\t\t\t} else if (res.code === -8) {\n          } else if (res.code === -10) {\n            console.log('去登陆', res.code)\n          }\n        })\n\t}\n}"]},"metadata":{},"sourceType":"module"}