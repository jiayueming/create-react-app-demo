{"ast":null,"code":"var _dec,\n    _class,\n    _jsxFileName = \"/Users/nuoee/Desktop/react-demo/src/pages/pay/index.js\";\n\nimport React from 'react';\nimport http from '../../utils/http';\nimport { ERR_OK } from '../../utils/config';\nimport { connect } from 'react-redux';\nimport \"./index.css\";\nlet Pay = (_dec = connect(state => state.exchange), _dec(_class = class Pay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showBank: 'none',\n      showWx: 'none',\n      showAli: 'none',\n      M: '',\n      S: ''\n    };\n    this.calcuTime = this.calcuTime.bind(this);\n    this.countdown = this.countdown.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.orderId) {\n      this.getPrice();\n    }\n  }\n\n  calcuTime(second) {\n    let M = (parseInt(second / 60) % 60).toString();\n    let S = parseInt(second % 60).toString();\n    this.setState({\n      M: M,\n      S: S\n    });\n  }\n\n  countdown(allTime) {\n    this.calcuTime(allTime);\n    let timer = setInterval(() => {\n      if (allTime <= 0) {\n        clearInterval(timer);\n        return;\n      }\n\n      allTime--;\n      this.calcuTime(allTime);\n    }, 1000);\n\n    if (allTime <= 0) {\n      clearInterval(timer);\n    }\n  }\n\n  getPrice() {\n    http.get('exchange-trade-server/order/info', {\n      Id: this.props.orderId\n    }).then(res => {\n      if (res.code === ERR_OK) {\n        this.setState({\n          buyType: res.data.buyType,\n          OrderId: res.data.orderId,\n          currencyType: res.data.currencyType,\n          payeer: res.data.payeer,\n          payeerAccount: res.data.payeerAccount,\n          dealPrice: res.data.dealPrice,\n          dealAmount: res.data.dealAmount,\n          dealVol: res.data.dealVol,\n          bankName: res.data.bankName\n        });\n\n        if (this.state.buyType === '1') {\n          this.setState({\n            showAli: true\n          });\n        } else if (this.state.buyType === '2') {\n          this.setState({\n            showBank: true\n          });\n        } else {\n          this.setState({\n            showWx: true\n          });\n        }\n\n        if (res.data.expireTime === -2) {\n          this.setState({\n            expireTime: -2,\n            M: '00',\n            S: '00'\n          });\n        } else {\n          this.setState({\n            expireTime: res.data.expireTime,\n            M: '00',\n            S: '00'\n          });\n          this.countdown(res.data.expireTime);\n        }\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"pay-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"\\u8BF7\\u4ED8\\u6B3E\"), React.createElement(\"p\", {\n      className: \"pay-warn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\u8BF7\\u5728\", this.state.M + ':' + this.state.S, \"\\u5185\\u7528\\u672C\\u4EBA\\u652F\\u4ED8\\u5B9D\\u8D26\\u53F7\\u4ED8\\u6B3E\\u7ED9\\u5546\\u5BB6\"), React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"top-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\\u8BF7\\u5411\\u4EE5\\u4E0B\\u8D26\\u6237\\u4ED8\\u6B3E\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"num-font\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.state.dealVol), React.createElement(\"span\", {\n      className: \"unit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"CNY\"))), React.createElement(\"div\", {\n      className: \"top-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"mr15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u4EA4\\u6613\\u5355\\u4EF7\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.dealPrice, \"CNY/\", this.state.currencyType)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"mr15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u4EA4\\u6613\\u6570\\u91CF\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.dealAmount, this.state.currencyType)))), React.createElement(\"div\", {\n      className: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u5355\\u53F7\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.state.orderId)), React.createElement(\"p\", {\n      className: \"mb40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"\\u8D2D\\u4E70\\u5E01\\u79CD\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.state.currencyType)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"\\u6536\\u6B3E\\u4EBA\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, this.state.payeer)), React.createElement(\"div\", {\n      style: {\n        display: this.state.showAli\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"\\u652F\\u4ED8\\u5B9D\\u8D26\\u53F7\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.payeerAccount)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"\\u6536\\u6B3E\\u4E8C\\u7EF4\\u7801\"), React.createElement(\"span\", {\n      className: \"code\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        display: this.state.showBank\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"\\u94F6\\u884C\\u5361\\u4FE1\\u606F\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, this.state.bankName)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"\\u94F6\\u884C\\u5361\\u5361\\u53F7\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, this.state.payeerAccount))), React.createElement(\"div\", {\n      style: {\n        display: this.state.showWx\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"\\u5FAE\\u4FE1\\u8D26\\u53F7\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, this.state.payeerAccount)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"\\u6536\\u6B3E\\u4E8C\\u7EF4\\u7801\"), React.createElement(\"span\", {\n      className: \"code\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"btn-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"\\u53D6\\u6D88\\u8BA2\\u5355\"), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"\\u5B8C\\u6210\\u4ED8\\u6B3E\"))));\n  }\n\n}) || _class);\nexport default Pay;","map":{"version":3,"sources":["/Users/nuoee/Desktop/react-demo/src/pages/pay/index.js"],"names":["React","http","ERR_OK","connect","Pay","state","exchange","Component","constructor","props","showBank","showWx","showAli","M","S","calcuTime","bind","countdown","componentDidMount","orderId","getPrice","second","parseInt","toString","setState","allTime","timer","setInterval","clearInterval","get","Id","then","res","code","buyType","data","OrderId","currencyType","payeer","payeerAccount","dealPrice","dealAmount","dealVol","bankName","expireTime","render","display"],"mappings":"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","sourcesContent":["import React from 'react'\nimport http from '../../utils/http'\nimport {ERR_OK} from '../../utils/config'\nimport {connect} from 'react-redux'\nimport \"./index.css\";\n@connect(\n\tstate=>state.exchange\n)\nclass Pay extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n            showBank: 'none',\n            showWx: 'none',\n            showAli: 'none',\n            M: '',\n            S: ''\n        }\n        this.calcuTime = this.calcuTime.bind(this)\n        this.countdown = this.countdown.bind(this)\n    }\n    componentDidMount () {\n        if (this.props.orderId) {\n            this.getPrice()\n        }\n    }\n    calcuTime (second) {\n        let M = (parseInt(second / 60) % 60).toString()\n        let S = (parseInt(second % 60)).toString()\n        this.setState({\n          M: M,\n          S: S\n        })\n    }\n    countdown (allTime) {\n        this.calcuTime(allTime)\n        let timer = setInterval(() => {\n          if (allTime <= 0) {\n            clearInterval(timer)\n            return\n          }\n          allTime--\n          this.calcuTime(allTime)\n        }, 1000)\n        if (allTime <= 0) {\n          clearInterval(timer)\n        }\n    }\n    getPrice () {\n        http.get('exchange-trade-server/order/info', {\n            Id: this.props.orderId\n          }).then(res => {\n            if (res.code === ERR_OK) {\n                this.setState({\n                    buyType: res.data.buyType,\n                    OrderId: res.data.orderId,\n                    currencyType: res.data.currencyType,\n                    payeer: res.data.payeer,\n                    payeerAccount: res.data.payeerAccount,\n                    dealPrice: res.data.dealPrice,\n                    dealAmount: res.data.dealAmount,\n                    dealVol: res.data.dealVol,\n                    bankName: res.data.bankName                   \n                })\n                if (this.state.buyType === '1') {\n                    this.setState({\n                        showAli: true\n                    })\n                } else if (this.state.buyType === '2') {\n                    this.setState({\n                        showBank: true\n                    })\n                } else {\n                    this.setState({\n                        showWx: true\n                    })\n                }\n                if (res.data.expireTime === -2) {\n                    this.setState({\n                        expireTime: -2,\n                        M: '00',\n                        S: '00'\n                    })\n                } else {\n                    this.setState({\n                        expireTime: res.data.expireTime,\n                        M: '00',\n                        S: '00'\n                    })\n                    this.countdown(res.data.expireTime)\n                }\n            }\n        })\n    }\n\trender(){\n\t\treturn (\n            <div className=\"pay-container\">\n                <p className=\"title\">请付款</p>\n                <p className=\"pay-warn\">请在{this.state.M + ':' +this.state.S}内用本人支付宝账号付款给商家</p>\n                <div className=\"main\">\n                    <div className=\"top\">\n                        <div className=\"top-left\">\n                            <p>请向以下账户付款</p>\n                            <p><span className=\"num-font\">{this.state.dealVol}</span><span className=\"unit\">CNY</span></p>\n                        </div>\n                        <div className=\"top-right\">\n                            <p><span className=\"mr15\">交易单价</span><span>{this.state.dealPrice}CNY/{this.state.currencyType}</span></p>\n                            <p><span className=\"mr15\">交易数量</span><span>{this.state.dealAmount}{this.state.currencyType}</span></p>\n                        </div>\n                    </div>\n                    <div className=\"bottom\">\n                        <p>\n                            <span>单号</span>\n                            <span>{this.state.orderId}</span>\n                        </p>\n                        <p className=\"mb40\">\n                            <span>购买币种</span>\n                            <span>{this.state.currencyType}</span>\n                        </p>\n                        <p>\n                            <span>收款人</span>\n                            <span>{this.state.payeer}</span>\n                        </p>\n                        <div style={{display: this.state.showAli}}>\n                            <p>\n                                <span>支付宝账号</span>\n                                <span>{this.state.payeerAccount}</span>\n                            </p>\n                            <p>\n                                <span>收款二维码</span>\n                                <span className=\"code\"></span>\n                            </p>\n                        </div>\n                        <div style={{display: this.state.showBank}}>\n                            <p>\n                                <span>银行卡信息</span>\n                                <span>{this.state.bankName}</span>\n                            </p>\n                            <p>\n                                <span>银行卡卡号</span>\n                                <span>{this.state.payeerAccount}</span>\n                            </p>\n                        </div>\n                        <div style={{display: this.state.showWx}}>\n                            <p>\n                                <span>微信账号</span>\n                                <span>{this.state.payeerAccount}</span>\n                            </p>\n                            <p>\n                                <span>收款二维码</span>\n                                <span className=\"code\"></span>\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"btn-box\">\n                        <button>取消订单</button>\n                        <button>完成付款</button>\n                    </div>\n                </div>\n            </div>\n        )\n\t}\n}\n\nexport default Pay"]},"metadata":{},"sourceType":"module"}