{"ast":null,"code":"import _objectSpread from \"/Users/nuoee/Desktop/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport http from '../utils/http';\nconst ORDER_ID = 'ORDER_ID';\nconst REFRESH_PRICE = 'REFRESH_PRICE';\nconst PROPERTY_LIST = 'PROPERTY_LIST';\nconst initState = {\n  orderId: '',\n  isRefresh: false,\n  propertyList: []\n};\nexport function exchange(state = initState, action) {\n  switch (action.type) {\n    case ORDER_ID:\n      return _objectSpread({}, state, {\n        orderId: action.payload.orderId\n      });\n\n    case REFRESH_PRICE:\n      return _objectSpread({}, state, {\n        isRefresh: action.payload.isRefresh\n      });\n\n    case PROPERTY_LIST:\n      console.log(action.payload);\n      return _objectSpread({}, state, {\n        propertyList: action.payload.propertyList\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction saveOrderId(orderId) {\n  return {\n    type: ORDER_ID,\n    payload: {\n      orderId\n    }\n  };\n}\n\nfunction refreshPrice({\n  isRefresh\n}) {\n  return {\n    type: REFRESH_PRICE,\n    payload: {\n      isRefresh\n    }\n  };\n} // {}和没有的区别\n\n\nfunction propertyList({\n  propertyList\n}) {\n  console.log('sss', propertyList);\n  return {\n    type: PROPERTY_LIST,\n    payload: {\n      propertyList\n    }\n  };\n} // actions\n\n\nexport function saveList(data) {\n  return dispatch => {\n    dispatch(propertyList({\n      data\n    }));\n  };\n}\nexport function createOrder(data) {\n  return async dispatch => {\n    http.post('exchange-trade-server/order/createOrder', data).then(res => {\n      if (res.code === 200) {\n        dispatch(saveOrderId(res.data.data));\n        this.props.history.push('/pay');\n      } else if (res.code === -1) {\n        dispatch(saveOrderId('270'));\n      } else if (res.code === -8) {\n        dispatch(refreshPrice(true));\n      } else if (res.code === -10) {\n        console.log('去登陆', res.code);\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/nuoee/Desktop/react-demo/src/redux/exchange.redux.js"],"names":["http","ORDER_ID","REFRESH_PRICE","PROPERTY_LIST","initState","orderId","isRefresh","propertyList","exchange","state","action","type","payload","console","log","saveOrderId","refreshPrice","saveList","data","dispatch","createOrder","post","then","res","code","props","history","push"],"mappings":";AAAA,OAAOA,IAAP,MAAiB,eAAjB;AACA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,SAAS,GAAG;AACjBC,EAAAA,OAAO,EAAE,EADQ;AAEjBC,EAAAA,SAAS,EAAE,KAFM;AAGjBC,EAAAA,YAAY,EAAE;AAHG,CAAlB;AAMA,OAAO,SAASC,QAAT,CAAkBC,KAAK,GAACL,SAAxB,EAAmCM,MAAnC,EAA0C;AAChD,UAAOA,MAAM,CAACC,IAAd;AACC,SAAKV,QAAL;AACC,+BAAWQ,KAAX;AAAiBJ,QAAAA,OAAO,EAACK,MAAM,CAACE,OAAP,CAAeP;AAAxC;;AACD,SAAKH,aAAL;AACC,+BAAWO,KAAX;AAAiBH,QAAAA,SAAS,EAACI,MAAM,CAACE,OAAP,CAAeN;AAA1C;;AACD,SAAKH,aAAL;AACCU,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACE,OAAnB;AACA,+BAAWH,KAAX;AAAiBF,QAAAA,YAAY,EAACG,MAAM,CAACE,OAAP,CAAeL;AAA7C;;AACD;AACC,aAAOE,KAAP;AATF;AAWA;;AACD,SAASM,WAAT,CAAqBV,OAArB,EAA6B;AAC5B,SAAO;AAACM,IAAAA,IAAI,EAAEV,QAAP;AAAiBW,IAAAA,OAAO,EAAC;AAACP,MAAAA;AAAD;AAAzB,GAAP;AACA;;AACD,SAASW,YAAT,CAAsB;AAACV,EAAAA;AAAD,CAAtB,EAAkC;AACjC,SAAO;AAACK,IAAAA,IAAI,EAAET,aAAP;AAAsBU,IAAAA,OAAO,EAAC;AAACN,MAAAA;AAAD;AAA9B,GAAP;AACA,C,CACD;;;AACA,SAASC,YAAT,CAAsB;AAACA,EAAAA;AAAD,CAAtB,EAAqC;AACpCM,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBP,YAAnB;AACA,SAAO;AAACI,IAAAA,IAAI,EAAER,aAAP;AAAsBS,IAAAA,OAAO,EAAC;AAACL,MAAAA;AAAD;AAA9B,GAAP;AACA,C,CACD;;;AACA,OAAO,SAASU,QAAT,CAAkBC,IAAlB,EAAwB;AAC9B,SAAOC,QAAQ,IAAE;AAChBA,IAAAA,QAAQ,CAACZ,YAAY,CAAC;AAACW,MAAAA;AAAD,KAAD,CAAb,CAAR;AACA,GAFD;AAIA;AACD,OAAO,SAASE,WAAT,CAAqBF,IAArB,EAA0B;AAChC,SAAO,MAAMC,QAAN,IAAgB;AAChBnB,IAAAA,IAAI,CAACqB,IAAL,CAAU,yCAAV,EAAqDH,IAArD,EAA2DI,IAA3D,CAAgEC,GAAG,IAAI;AACrE,UAAIA,GAAG,CAACC,IAAJ,KAAa,GAAjB,EAAsB;AAC1BL,QAAAA,QAAQ,CAACJ,WAAW,CAACQ,GAAG,CAACL,IAAJ,CAASA,IAAV,CAAZ,CAAR;AACA,aAAKO,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACA,OAHI,MAGE,IAAIJ,GAAG,CAACC,IAAJ,KAAa,CAAC,CAAlB,EAAqB;AAC3BL,QAAAA,QAAQ,CAACJ,WAAW,CAAC,KAAD,CAAZ,CAAR;AACA,OAFM,MAEA,IAAIQ,GAAG,CAACC,IAAJ,KAAa,CAAC,CAAlB,EAAqB;AAC3BL,QAAAA,QAAQ,CAACH,YAAY,CAAC,IAAD,CAAb,CAAR;AACK,OAFC,MAEK,IAAIO,GAAG,CAACC,IAAJ,KAAa,CAAC,EAAlB,EAAsB;AAC3BX,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBS,GAAG,CAACC,IAAvB;AACD;AACF,KAXD;AAYN,GAbD;AAcA","sourcesContent":["import http from '../utils/http'\nconst ORDER_ID = 'ORDER_ID'\nconst REFRESH_PRICE = 'REFRESH_PRICE'\nconst PROPERTY_LIST = 'PROPERTY_LIST'\nconst initState = {\n\torderId: '',\n\tisRefresh: false,\n\tpropertyList: []\n}\n\nexport function exchange(state=initState, action){\n\tswitch(action.type){\n\t\tcase ORDER_ID:\n\t\t\treturn {...state,orderId:action.payload.orderId}\n\t\tcase REFRESH_PRICE:\n\t\t\treturn {...state,isRefresh:action.payload.isRefresh}\n\t\tcase PROPERTY_LIST:\n\t\t\tconsole.log(action.payload)\n\t\t\treturn {...state,propertyList:action.payload.propertyList}\t\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\nfunction saveOrderId(orderId){\n\treturn {type: ORDER_ID, payload:{orderId}}\n}\nfunction refreshPrice({isRefresh}){\n\treturn {type: REFRESH_PRICE, payload:{isRefresh}}\n}\n// {}和没有的区别\nfunction propertyList({propertyList}){\n\tconsole.log('sss', propertyList)\n\treturn {type: PROPERTY_LIST, payload:{propertyList}}\n}\n// actions\nexport function saveList(data) {\n\treturn dispatch=>{\n\t\tdispatch(propertyList({data}))\n\t}\n\n}\nexport function createOrder(data){\n\treturn async dispatch=>{\n        http.post('exchange-trade-server/order/createOrder', data).then(res => {\n          if (res.code === 200) {\n\t\t\t\t\t\tdispatch(saveOrderId(res.data.data))\n\t\t\t\t\t\tthis.props.history.push('/pay')\n\t\t\t\t\t} else if (res.code === -1) {\n\t\t\t\t\t\tdispatch(saveOrderId('270'))\n\t\t\t\t\t} else if (res.code === -8) {\n\t\t\t\t\t\tdispatch(refreshPrice(true))\n          } else if (res.code === -10) {\n            console.log('去登陆', res.code)\n          }\n        })\n\t}\n}"]},"metadata":{},"sourceType":"module"}